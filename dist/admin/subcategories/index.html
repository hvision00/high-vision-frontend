<!DOCTYPE html><html lang="it" data-astro-cid-vvlxq4jv> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Gestione Sottocategorie - Admin</title><script type="module" src="/_astro/index.astro_astro_type_script_index_0_lang.DmxtRZ-D.js"></script><link rel="stylesheet" href="/_astro/style.CYKgbAml.css"></head> <body data-astro-cid-vvlxq4jv> <div class="admin-container" data-astro-cid-vvlxq4jv> <!-- Header --> <div class="flex items-center justify-between mb-8" data-astro-cid-vvlxq4jv> <div data-astro-cid-vvlxq4jv> <h1 class="text-4xl font-bold text-white mb-2" data-astro-cid-vvlxq4jv>Gestione Sottocategorie</h1> <p class="text-white/80" data-astro-cid-vvlxq4jv>Gestisci le sottocategorie del catalogo</p> </div> <div class="flex items-center space-x-4" data-astro-cid-vvlxq4jv> <button onclick="openCreateModal()" class="btn-primary" data-astro-cid-vvlxq4jv> <div class="flex items-center space-x-2" data-astro-cid-vvlxq4jv> <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-astro-cid-vvlxq4jv></path> </svg> <span data-astro-cid-vvlxq4jv>Nuova Sottocategoria</span> </div> </button> <a href="/admin/products" class="btn-secondary" data-astro-cid-vvlxq4jv> <div class="flex items-center space-x-2" data-astro-cid-vvlxq4jv> <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" data-astro-cid-vvlxq4jv></path> </svg> <span data-astro-cid-vvlxq4jv>Torna ai Prodotti</span> </div> </a> </div> </div> <!-- Filters --> <div class="card mb-6" data-astro-cid-vvlxq4jv> <div class="p-6" data-astro-cid-vvlxq4jv> <div class="flex flex-wrap items-center gap-4" data-astro-cid-vvlxq4jv> <div class="flex-1 min-w-64" data-astro-cid-vvlxq4jv> <label class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Filtra per Categoria</label> <select id="category-filter" class="form-input w-full" data-astro-cid-vvlxq4jv> <option value="" data-astro-cid-vvlxq4jv>Tutte le categorie</option> </select> </div> <div class="flex items-end" data-astro-cid-vvlxq4jv> <button id="filter-btn" class="btn-primary" data-astro-cid-vvlxq4jv>Filtra</button> </div> </div> </div> </div> <!-- Main Content --> <div class="card" data-astro-cid-vvlxq4jv> <!-- Loading State --> <div id="loading-state" class="p-12 text-center" data-astro-cid-vvlxq4jv> <div class="animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full mb-4" data-astro-cid-vvlxq4jv></div> <p class="text-gray-600" data-astro-cid-vvlxq4jv>Caricamento sottocategorie...</p> </div> <!-- Error State --> <div id="error-state" class="hidden p-12 text-center" data-astro-cid-vvlxq4jv> <div class="text-red-500 mb-4" data-astro-cid-vvlxq4jv> <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-vvlxq4jv></path> </svg> </div> <h3 class="text-xl font-semibold text-gray-900 mb-2" data-astro-cid-vvlxq4jv>Errore nel caricamento</h3> <p id="error-message" class="text-gray-600 mb-6" data-astro-cid-vvlxq4jv></p> <button id="retry-btn" class="btn-primary" data-astro-cid-vvlxq4jv>Riprova</button> </div> <!-- Table --> <div id="table-container" class="hidden" data-astro-cid-vvlxq4jv> <div class="overflow-x-auto" data-astro-cid-vvlxq4jv> <table class="w-full" data-astro-cid-vvlxq4jv> <thead class="table-header" data-astro-cid-vvlxq4jv> <tr data-astro-cid-vvlxq4jv> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Nome</th> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Categoria</th> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Slug</th> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Prodotti</th> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Stato</th> <th class="px-6 py-4 text-left" data-astro-cid-vvlxq4jv>Data Creazione</th> <th class="px-6 py-4 text-right" data-astro-cid-vvlxq4jv>Azioni</th> </tr> </thead> <tbody id="subcategories-table-body" class="divide-y divide-gray-100" data-astro-cid-vvlxq4jv> <!-- Rows will be populated by JavaScript --> </tbody> </table> </div> </div> <!-- Empty State --> <div id="empty-state" class="hidden p-12 text-center" data-astro-cid-vvlxq4jv> <div class="text-gray-400 mb-4" data-astro-cid-vvlxq4jv> <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" data-astro-cid-vvlxq4jv></path> </svg> </div> <h3 class="text-xl font-semibold text-gray-900 mb-2" data-astro-cid-vvlxq4jv>Nessuna sottocategoria trovata</h3> <p class="text-gray-600 mb-6" data-astro-cid-vvlxq4jv>Inizia creando la prima sottocategoria</p> <button onclick="openCreateModal()" class="btn-primary" data-astro-cid-vvlxq4jv>Crea Sottocategoria</button> </div> </div> </div> <!-- Create/Edit Modal --> <div id="subcategory-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50" data-astro-cid-vvlxq4jv> <div class="modal-content w-full max-w-2xl p-8" data-astro-cid-vvlxq4jv> <div class="flex items-center justify-between mb-6" data-astro-cid-vvlxq4jv> <h2 id="modal-title" class="text-2xl font-bold text-gray-900" data-astro-cid-vvlxq4jv>Nuova Sottocategoria</h2> <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600" data-astro-cid-vvlxq4jv> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-astro-cid-vvlxq4jv></path> </svg> </button> </div> <form id="subcategory-form" class="space-y-6" data-astro-cid-vvlxq4jv> <div data-astro-cid-vvlxq4jv> <label for="name" class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Nome *</label> <input type="text" id="name" name="name" required class="form-input w-full" placeholder="Nome della sottocategoria" data-astro-cid-vvlxq4jv> </div> <div data-astro-cid-vvlxq4jv> <label for="category_id" class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Categoria *</label> <select id="category_id" name="category_id" required class="form-input w-full" data-astro-cid-vvlxq4jv> <option value="" data-astro-cid-vvlxq4jv>Seleziona categoria...</option> </select> </div> <div data-astro-cid-vvlxq4jv> <label for="slug" class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Slug *</label> <input type="text" id="slug" name="slug" required class="form-input w-full" placeholder="slug-della-sottocategoria" data-astro-cid-vvlxq4jv> <p class="text-sm text-gray-500 mt-1" data-astro-cid-vvlxq4jv>Generato automaticamente dal nome, ma puoi modificarlo</p> </div> <div data-astro-cid-vvlxq4jv> <label for="description" class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Descrizione</label> <textarea id="description" name="description" rows="3" class="form-input w-full" placeholder="Descrizione della sottocategoria" data-astro-cid-vvlxq4jv></textarea> </div> <div data-astro-cid-vvlxq4jv> <label for="sort_order" class="block text-sm font-medium text-gray-700 mb-2" data-astro-cid-vvlxq4jv>Ordine</label> <input type="number" id="sort_order" name="sort_order" class="form-input w-full" placeholder="0" min="0" data-astro-cid-vvlxq4jv> </div> <div class="flex items-center justify-end space-x-4 pt-6 border-t" data-astro-cid-vvlxq4jv> <button type="button" onclick="closeModal()" class="btn-secondary" data-astro-cid-vvlxq4jv>Annulla</button> <button type="submit" class="btn-primary" id="submit-btn" data-astro-cid-vvlxq4jv> <span id="submit-text" data-astro-cid-vvlxq4jv>Crea Sottocategoria</span> </button> </div> </form> </div> </div> <!-- Delete Confirmation Modal --> <div id="delete-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center p-4 z-50" data-astro-cid-vvlxq4jv> <div class="modal-content w-full max-w-md p-8" data-astro-cid-vvlxq4jv> <div class="text-center" data-astro-cid-vvlxq4jv> <div class="text-red-500 mb-4" data-astro-cid-vvlxq4jv> <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-vvlxq4jv> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" data-astro-cid-vvlxq4jv></path> </svg> </div> <h3 class="text-xl font-semibold text-gray-900 mb-2" data-astro-cid-vvlxq4jv>Conferma Eliminazione</h3> <p class="text-gray-600 mb-6" data-astro-cid-vvlxq4jv>
Sei sicuro di voler eliminare la sottocategoria <strong id="delete-subcategory-name" data-astro-cid-vvlxq4jv></strong>?
<br data-astro-cid-vvlxq4jv><span class="text-sm text-red-600" data-astro-cid-vvlxq4jv>Questa azione non pu√≤ essere annullata.</span> </p> <div class="flex items-center justify-center space-x-4" data-astro-cid-vvlxq4jv> <button onclick="closeDeleteModal()" class="btn-secondary" data-astro-cid-vvlxq4jv>Annulla</button> <button id="confirm-delete-btn" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl font-semibold transition-all" data-astro-cid-vvlxq4jv>
Elimina Definitivamente
</button> </div> </div> </div> </div> <script type="module" src="/_astro/index.astro_astro_type_script_index_1_lang.CxO_JRN6.js"></script> </body> </html>