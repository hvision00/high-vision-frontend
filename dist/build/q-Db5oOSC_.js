const x=function(){const n=typeof document<"u"&&document.createElement("link").relList;return n&&n.supports&&n.supports("modulepreload")?"modulepreload":"preload"}(),C=function(t){return"/"+t},k={},W=function(n,e,o){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(e.map(c=>{if(c=C(c),c in k)return;k[c]=!0;const f=c.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const u=document.createElement("link");if(u.rel=f?"stylesheet":x,f||(u.as="script"),u.crossOrigin="",u.href=c,i&&u.setAttribute("nonce",i),document.head.appendChild(u),f)return new Promise((D,I)=>{u.addEventListener("load",D),u.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return r.then(s=>{for(const i of s||[])i.status==="rejected"&&l(i.reason);return n().catch(l)})},F=!1,H=!0,K=!1,g=document,L="modulepreload",R="preload",a={t:0,o:25,l:.65},A=g.createElement("link").relList.supports(L)?L:R,U=Date.now(),j=/\.[mc]?js$/,v=0,M=1,w=2,O=3,Q=4,S=new Map;let B,$=0;const d=[],p=(...t)=>{console.log(`Preloader ${Date.now()-U}ms ${$}/${d.length} queued>`,...t)},G=()=>{B&&(d.sort((t,n)=>t.u-n.u),B=0)},y=()=>{if(d.length){for(G();d.length;){const t=d[0],e=1-t.u,o=h?Math.max(1,a.o*e):2;if(e>=.99||$<o)d.shift(),z(t);else break}if(a.t&&!d.length){const t=[...S.values()].filter(o=>o.i>v),n=t.reduce((o,r)=>o+r.p,0),e=t.reduce((o,r)=>o+r.$,0);p(`>>>> done ${t.length}/${S.size} total: ${n}ms waited, ${e}ms loaded`)}}},z=t=>{if(t.i>=w)return;$++;const n=Date.now();t.p=n-t.m,t.i=w,a.t&&p(`<< load ${Math.round((1-t.u)*100)}% after ${`${t.p}ms`}`,t.B);const e=g.createElement("link");e.href=new URL(`${P}${t.B}`,g.baseURI).toString(),e.rel=A,e.as="script",e.onload=e.onerror=()=>{$--;const o=Date.now();t.$=o-n,t.i=Q,a.t&&p(`>> done after ${t.$}ms`,t.B),e.remove(),y()},g.head.appendChild(e)},E=(t,n,e)=>{if(e!=null&&e.has(t))return;const o=t.u;if(t.u=n,!(o-t.u<.01)&&(P!=null&&t.i<w&&t.u<a.l&&(t.i===v&&(t.i=M,d.push(t),a.t&&p(`queued ${Math.round((1-t.u)*100)}%`,t.B)),B=1),t.h)){e||(e=new Set),e.add(t);const r=1-t.u;for(const l of t.h){const s=q(l.B);if(s.u===0)continue;let i;if(l.S>.5&&(r===1||r>=.99&&b<100))b++,i=Math.min(.01,1-l.S);else{const c=1-l.S*r,f=l.q,m=c/f;i=Math.max(.02,s.u*m),l.q=m}E(s,i,e)}}},_=(t,n)=>{const e=q(t);e&&e.u>n&&E(e,n)};let b;const J=(t,n)=>{if(!(t!=null&&t.length))return;b=0;let e=n?1-n:.4;if(Array.isArray(t))for(let o=t.length-1;o>=0;o--){const r=t[o];typeof r=="number"?e=1-r/10:_(r,e)}else _(t,e);y()};document.addEventListener("qsymbol",t=>{const{symbol:n,href:e}=t.detail;if(e){const o=n.slice(n.lastIndexOf("_")+1);J(o,1)}});let P,h;const N=(t,n)=>({B:t,i:j.test(t)?v:O,h:n,u:1,m:Date.now(),p:0,$:0}),T=t=>{const n=new Map;let e=0;for(;e<t.length;){const o=t[e++],r=[];let l,s=1;for(;l=t[e],typeof l=="number";)l<0?s=-l/10:r.push({B:t[l],S:s,q:1}),e++;n.set(o,r)}return n},q=t=>{let n=S.get(t);if(!n){let e;if(h){if(e=h.get(t),!e)return;e.length||(e=void 0)}n=N(t,e),S.set(t,n)}return n},V=(t,n,e)=>{e&&("d"in e&&(a.t=!!e.d),"P"in e&&(a.o=e.P),"Q"in e&&(a.l=1-e.Q)),t!=null&&(P=t,n&&n.then(o=>o.text()).then(o=>{h=T(JSON.parse(o));const r=[];for(const[l,s]of h.entries()){const i=q(l);i.h=s,i.u<1&&(r.push([i,i.u]),i.u=1)}a.t&&p(`parseBundleGraph got ${h.size} bundles, adjusting ${r.length}`);for(const[l,s]of r)E(l,s);y()}).catch(console.warn))};export{W as _,H as a,K as b,T as g,_ as h,F as i,V as l,J as p};
