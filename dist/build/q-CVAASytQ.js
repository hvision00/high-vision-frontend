import{u as v,d,_ as e,q as u,h as s,g as p,F as _,b as g}from"./q-DUKpa2tJ.js";import{_ as c}from"./q-Db5oOSC_.js";const f=a=>{const[r]=v();return r.value=a.target.value},b=Object.freeze(Object.defineProperty({__proto__:null,s_Rgw9YJskWQE:f},Symbol.toStringTag,{value:"Module"})),w=async a=>{const[r,o,n,t,m]=v();if(a.preventDefault(),a.stopPropagation(),n.value={isLoading:!0,isSuccess:!1,isError:!1,errorMessage:"",successMessage:""},!t.value.trim()||!r.value.trim()){n.value={...n.value,isLoading:!1,isError:!0,errorMessage:"Per favore compila tutti i campi"};return}if(!m(o.value)){n.value={...n.value,isLoading:!1,isError:!0,errorMessage:"Inserisci un indirizzo email valido"};return}try{const i=await fetch("https://formspree.io/f/xqalebop",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t.value.trim(),cognome:r.value.trim(),email:o.value.trim(),source:"newsletter_form",timestamp:new Date().toISOString()})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);n.value={isLoading:!1,isSuccess:!0,isError:!1,errorMessage:"",successMessage:"Grazie per esserti iscritto! Riceverai presto le nostre newsletter."},setTimeout(()=>{t.value="",r.value="",o.value="",n.value={...n.value,isSuccess:!1,successMessage:""}},5e3)}catch(i){console.error("Errore nell'invio del form:",i),n.value={isLoading:!1,isSuccess:!1,isError:!0,errorMessage:"Si è verificato un errore durante l'invio. Riprova più tardi.",successMessage:""}}},x=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_GNyaKOs4Pwc:w},Symbol.toStringTag,{value:"Module"})),h=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),y=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_Ox4nKZAGYmc:h},Symbol.toStringTag,{value:"Module"})),S=a=>{const[r]=v();return r.value=a.target.value},E=Object.freeze(Object.defineProperty({__proto__:null,s_7ppu40K846c:S},Symbol.toStringTag,{value:"Module"})),O=a=>{const[r]=v();return r.value=a.target.value},L=Object.freeze(Object.defineProperty({__proto__:null,s_cF6wpC6JkrI:O},Symbol.toStringTag,{value:"Module"})),P=a=>{const r=d(""),o=d(""),n=d(""),t=d({isLoading:!1,isSuccess:!1,isError:!1,errorMessage:"",successMessage:""}),i=u(()=>c(()=>Promise.resolve().then(()=>x),void 0),"s_GNyaKOs4Pwc",[o,n,t,r,u(()=>c(()=>Promise.resolve().then(()=>y),void 0),"s_Ox4nKZAGYmc")]);return e("section",null,{class:s(l=>`bg-gradient-to-b from-white to-gray-50 py-16 md:py-24 px-4 ${l.className||""}`,[a])},e("div",null,{class:"max-w-container mx-auto"},[e("h2",null,{class:"text-2xl md:text-4xl lg:text-6xl text-brand max-w-4xl font-telegraf text-center mb-12 leading-relaxed max-w-4xl mx-auto"},["Per conoscere news ",e("br",null,null,null,3,null),"e approfondimenti"],3,null),e("form",null,{class:"space-y-8 max-w-4xl mx-auto","preventdefault:submit":!0,onSubmit$:i},[t.value.isSuccess&&e("div",null,{class:"relative overflow-hidden bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-lg transform transition-all duration-500 ease-out animate-in slide-in-from-top"},[e("div",null,{class:"absolute inset-y-0 left-0 w-1 bg-green-500"},null,3,null),e("div",null,{class:"flex items-center"},[e("div",null,{class:"flex-shrink-0"},e("svg",null,{class:"w-6 h-6 text-green-500 animate-bounce",fill:"currentColor",viewBox:"0 0 20 20"},e("path",null,{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,3,null),3,null),3,null),e("div",null,{class:"ml-3"},[e("p",null,{class:"font-medium"},"Iscrizione completata!",3,null),e("p",null,{class:"text-sm mt-1"},s(l=>l.value.successMessage,[t]),3,null)],3,null)],3,null)],3,"R5_0"),t.value.isError&&e("div",null,{class:"relative overflow-hidden bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-lg transform transition-all duration-500 ease-out animate-in slide-in-from-top"},[e("div",null,{class:"absolute inset-y-0 left-0 w-1 bg-red-500"},null,3,null),e("div",null,{class:"flex items-center"},[e("div",null,{class:"flex-shrink-0"},e("svg",null,{class:"w-6 h-6 text-red-500 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},e("path",null,{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,3,null),3,null),3,null),e("div",null,{class:"ml-3"},[e("p",null,{class:"font-medium"},"Ops! Qualcosa è andato storto",3,null),e("p",null,{class:"text-sm mt-1"},s(l=>l.value.errorMessage,[t]),3,null)],3,null)],3,null)],3,"R5_1"),e("div",null,null,[e("h3",null,{class:"text-xl font-normal mb-6"},"Come ti chiami",3,null),e("div",null,{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",null,{class:"relative"},[e("input",{class:`w-full pb-2 border-b bg-transparent focus:outline-none transition-all duration-200 placeholder-gray-400 ${t.value.isLoading?"opacity-50 cursor-not-allowed border-gray-200":"border-gray-300 focus:border-brand hover:border-gray-400"}`},{type:"text",placeholder:"Nome",value:s(l=>l.value,[r]),disabled:s(l=>l.value.isLoading,[t]),onInput$:u(()=>c(()=>Promise.resolve().then(()=>L),void 0),"s_cF6wpC6JkrI",[r])},null,3,null),e("div",null,{class:s(l=>`absolute bottom-0 left-0 h-0.5 bg-brand transition-all duration-300 ${l.value?"w-full":"w-0"}`,[r])},null,3,null)],1,null),e("div",null,{class:"relative"},[e("input",{class:`w-full pb-2 border-b bg-transparent focus:outline-none transition-all duration-200 placeholder-gray-400 ${t.value.isLoading?"opacity-50 cursor-not-allowed border-gray-200":"border-gray-300 focus:border-brand hover:border-gray-400"}`},{type:"text",placeholder:"Cognome",value:s(l=>l.value,[o]),disabled:s(l=>l.value.isLoading,[t]),onInput$:u(()=>c(()=>Promise.resolve().then(()=>E),void 0),"s_7ppu40K846c",[o])},null,3,null),e("div",null,{class:s(l=>`absolute bottom-0 left-0 h-0.5 bg-brand transition-all duration-300 ${l.value?"w-full":"w-0"}`,[o])},null,3,null)],1,null)],1,null)],1,null),e("div",null,null,[e("h3",null,{class:"text-xl font-normal mb-6"},"La tua e-mail è",3,null),e("div",null,{class:"flex flex-col md:flex-row gap-4 md:gap-6 items-start md:items-end"},[e("div",null,{class:"relative flex-grow w-full md:w-auto"},[e("input",{class:`w-full pb-2 border-b bg-transparent focus:outline-none transition-all duration-200 placeholder-gray-400 ${t.value.isLoading?"opacity-50 cursor-not-allowed border-gray-200":"border-gray-300 focus:border-brand hover:border-gray-400"}`},{type:"email",placeholder:"E-mail",value:s(l=>l.value,[n]),disabled:s(l=>l.value.isLoading,[t]),onInput$:u(()=>c(()=>Promise.resolve().then(()=>b),void 0),"s_Rgw9YJskWQE",[n])},null,3,null),e("div",null,{class:s(l=>`absolute bottom-0 left-0 h-0.5 bg-brand transition-all duration-300 ${l.value?"w-full":"w-0"}`,[n])},null,3,null)],1,null),e("button",{class:`relative px-8 py-3 rounded-md text-white font-medium flex items-center gap-2 whitespace-nowrap transition-all duration-300 transform ${t.value.isLoading?"bg-brand/80 cursor-not-allowed scale-95":"bg-brand hover:bg-brand-dark hover:shadow-lg hover:scale-105 active:scale-95"}`},{type:"submit",disabled:s(l=>l.value.isLoading,[t])},[t.value.isLoading&&e("div",null,{class:"absolute inset-0 bg-white/20 rounded-md overflow-hidden"},e("div",null,{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-shimmer"},null,3,null),3,"R5_2"),e("span",null,{class:"relative z-10 flex items-center gap-2"},t.value.isLoading?p(_,{children:[e("svg",null,{class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",null,{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,3,null),e("path",null,{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,3,null)],3,null),e("span",null,{class:"animate-pulse"},"Invio in corso...",3,null)]},3,"R5_3"):p(_,{children:["INVIA",e("svg",null,{class:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"},null,3,null),3,null)]},3,"R5_4"),1,null)],1,null)],1,null)],1,null),e("p",null,{class:"text-sm text-gray-500 text-center mt-6"},["Iscrivendoti accetti la nostra"," ",e("a",null,{href:"/privacy",class:"underline hover:text-gray-700 transition-colors"},"privacy policy",3,null)],3,null)],1,null)],1,null),1,"R5_5")},N=Object.freeze(Object.defineProperty({__proto__:null,s_nOIPsyJm1cE:P},Symbol.toStringTag,{value:"Module"}));export{N,g as _hW,S as s_7ppu40K846c,w as s_GNyaKOs4Pwc,h as s_Ox4nKZAGYmc,f as s_Rgw9YJskWQE,O as s_cF6wpC6JkrI,P as s_nOIPsyJm1cE};
